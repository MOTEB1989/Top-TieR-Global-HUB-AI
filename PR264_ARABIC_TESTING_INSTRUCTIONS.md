# ุชุนูููุงุช ุงุฎุชุจุงุฑ PR #264 - ูุธุงู ุชูุธูู ุงููุณุชูุฏุน ุงูุชููุงุฆู

## ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุชุบููุฑุงุช
ุชุถูู ูุฐู ุงููุฑุงุฌุนุฉ (PR #264) ูุธุงู ุชูุธูู ูุชุทูุฑ ูููุณุชูุฏุน ูุชุถูู:

1. **ุณูุฑูุจุช Python ูุญุณู** (`scripts/close_github_items.py`) ูุฅุบูุงู ุงูู Issues ูุงูู Pull Requests
2. **GitHub Actions Workflow** (`.github/workflows/cleanup.yml`) ูุน ูุงุฌูุฉ ูุณุชุฎุฏู ุนุฑุจูุฉ
3. **ูุธุงู ุฃูุงู ูุชูุฏู** ูุน ุฎูุงุฑุงุช ุชุตููุฉ ูุญูุงูุฉ

## ุงููุชุทูุจุงุช ุงูุชูููุฉ

### ุงูุจูุฆุฉ ุงููุทููุจุฉ:
- Python 3.11 ุฃู ุฃุญุฏุซ
- ููุชุจุฉ `requests` (ุงูุฅุตุฏุงุฑ 2.32.4 ุฃู ุฃุญุฏุซ)
- GitHub Token ูุน ุตูุงุญูุงุช:
  - `issues: write`
  - `pull-requests: write`
  - `contents: read`

### ุฅุนุฏุงุฏ ุงูุจูุฆุฉ:
```bash
# ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
python -m venv venv

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
# ุนูู Windows:
venv\Scripts\activate
# ุนูู macOS/Linux:
source venv/bin/activate

# ุชุซุจูุช ุงููุชุทูุจุงุช
pip install requests

# ุฅุนุฏุงุฏ GitHub Token
export GITHUB_TOKEN="your_token_here"
```

## ุงุฎุชุจุงุฑ ุงูุณูุฑูุจุช ูุญูููุง

### 1. ุงุฎุชุจุงุฑ ุงููุถุน ุงูุขูู (Dry Run) - **ูุทููุจ ุฃููุงู**

```bash
# ุงุฎุชุจุงุฑ ุฃุณุงุณู ูููุถุน ุงูุขูู
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI --dry-run --yes

# ุงุฎุชุจุงุฑ ูุน ุชุตููุฉ ุงูุชูุงุฑูุฎ
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes --before 2024-01-01

# ุงุฎุชุจุงุฑ ูุน ุงุณุชุซูุงุก ุฃุฑูุงู ูุญุฏุฏุฉ
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes --exclude 1 2 3

# ุงุฎุชุจุงุฑ ูุน ุงุณุชุซูุงุก ุงูุชุณููุงุช (Labels)
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes --label-exclude priority keep wontfix
```

### 2. ุงุฎุชุจุงุฑ ุชุฎุทู ุฃููุงุน ุงูุนูุงุตุฑ

```bash
# ุชุฎุทู ุงูู Issues ููุท
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes --skip-issues

# ุชุฎุทู ุงูู Pull Requests ููุท
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes --skip-prs
```

### 3. ุงุฎุชุจุงุฑ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```bash
# ุงุฎุชุจุงุฑ ูุน token ุบูุฑ ุตุญูุญ
GITHUB_TOKEN="invalid_token" python scripts/close_github_items.py \
  MOTEB1989/Top-TieR-Global-HUB-AI --dry-run --yes

# ุงุฎุชุจุงุฑ ูุน ูุณุชูุฏุน ุบูุฑ ููุฌูุฏ
python scripts/close_github_items.py nonexistent/repo \
  --dry-run --yes
```

## ุงุฎุชุจุงุฑ GitHub Actions Workflow

### 1. ุงุฎุชุจุงุฑ ุงูุชุดุบูู ุงููุฏูู (Manual Dispatch)

#### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:
1. **ุงูุชูู ุฅูู ุชุจููุจ Actions ูู GitHub**
   ```
   https://github.com/MOTEB1989/Top-TieR-Global-HUB-AI/actions
   ```

2. **ุงุฎุชุฑ "Repository Hygiene - Close Old Issues & PRs"**

3. **ุงุฎุชุจุฑ ุงูุฎูุงุฑุงุช ุงูุนุฑุจูุฉ:**

   **ูุถุน ุงูุชุดุบูู (Execution mode):**
   - ุงุฎุชุจุฑ `dry-run = ูุง ูุบูู ูุนููุงู` โ (ุขูู)
   - ุงุฎุชุจุฑ `execute = ุฅุบูุงู ุญูููู` โ๏ธ (ุฎุทุฑ - ุงุณุชุฎุฏู ุจุญุฐุฑ)

   **ุฎูุงุฑุงุช ุงูุชุฎุทู:**
   - `ุชุฎุทู ุฅุบูุงู ุงูู Issues` - ุงุฎุชุจุฑ ุชุดุบููู ูุฅููุงูู
   - `ุชุฎุทู ุฅุบูุงู ุงูู Pull Requests` - ุงุฎุชุจุฑ ุชุดุบููู ูุฅููุงูู

   **ุชุตููุฉ ุงูุชูุงุฑูุฎ:**
   - `ุฃุบูู ุงูุนูุงุตุฑ ุงูุฃูุฏู ูู ูุฐุง ุงูุชุงุฑูุฎ ููุท (YYYY-MM-DD)`
   - ุงุฎุชุจุฑ ูุน: `2024-01-01`, `2023-12-31`, ุชุงุฑูุฎ ูุงุฑุบ

   **ุงุณุชุซูุงุก ุงูุฃุฑูุงู:**
   - `ุฃุฑูุงู Issues/PRs ููุตููุฉ ุจูุณุงูุงุช ูุงุณุชุซูุงุฆูุง`
   - ุงุฎุชุจุฑ ูุน: `1 2 3`, `264`, ูููุฉ ูุงุฑุบุฉ

   **ุงุณุชุซูุงุก ุงูุชุณููุงุช:**
   - `ุงุณุชุซูุงุก ุงูุนูุงุตุฑ ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงูุชุณููุงุช`
   - ุงุฎุชุจุฑ ูุน: `priority keep wontfix`, `bug feature`, ูููุฉ ูุงุฑุบุฉ

### 2. ุงุฎุชุจุงุฑ ุงูุชุดุบูู ุงููุฌุฏูู (Scheduled Run)

#### ูุญุงูุงุฉ ุงูุชุดุบูู ุงููุฌุฏูู:
```bash
# ูู ูุชู ุชุดุบูู ูุฐุง ูุนูููุง ูุฃูู ูุฌุฏููุ ููู ูููู ูุญุงูุงุชู
# ุจุชุดุบูู manual dispatch ูุน ุฅุนุฏุงุฏุงุช ููุงุซูุฉ ููู schedule
```

**ุงูุฅุนุฏุงุฏุงุช ุงููุชููุนุฉ ููุชุดุบูู ุงููุฌุฏูู:**
- ูุถุน: `dry-run` (ุฏุงุฆูุงู ููุฃูุงู)
- `skip_issues`: `false`
- `skip_prs`: `false`
- `label_exclude`: `priority keep wontfix`

## ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ ุงููุชูุฏูุฉ

### 1. ุงุฎุชุจุงุฑ Rate Limiting
```bash
# ูู ุจุชุดุบูู ุงูุณูุฑูุจุช ุนุฏุฉ ูุฑุงุช ูุชุชุงููุฉ ูุงุฎุชุจุงุฑ ูุนุงูุฌุฉ Rate Limit
for i in {1..5}; do
  echo "ุงุฎุชุจุงุฑ ุฑูู $i"
  python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
    --dry-run --yes
  sleep 2
done
```

### 2. ุงุฎุชุจุงุฑ ูุธุงู ุฅุนุงุฏุฉ ุงููุญุงููุฉ (Retry Logic)
```bash
# ุงุฎุชุจุงุฑ ูุน ุงููุทุงุน ุฅูุชุฑูุช ูุคูุช (ูุญุงูุงุฉ)
# ุณูููู ุงูุณูุฑูุจุช ุจุฅุนุงุฏุฉ ุงููุญุงููุฉ ุชููุงุฆูุงู
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes
```

### 3. ุงุฎุชุจุงุฑ ุงูุชุตููุฉ ุงููุชูุฏูุฉ
```bash
# ุงุฎุชุจุงุฑ ุฏูุฌ ุนุฏุฉ ูุฑุดุญุงุช
python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes \
  --before 2024-06-01 \
  --exclude 264 265 266 \
  --label-exclude priority bug critical
```

## ูุนุงููุฑ ุงููุฌุงุญ

### โ ุงูุณูุฑูุจุช ูุนูู ุจุดูู ุตุญูุญ ุฅุฐุง:
1. **ุงููุถุน ุงูุขูู (Dry Run):**
   - ูุนุฑุถ ูุงุฆูุฉ ุจุงูุนูุงุตุฑ ุงููุฑุดุญุฉ ููุฅุบูุงู
   - ูุง ูุบูู ุฃู ุดูุก ูุนููุงู
   - ูุธูุฑ ุชูุฑูุฑ ููุงุฆู ุตุญูุญ

2. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:**
   - ูุชุนุงูู ูุน tokens ุบูุฑ ุตุญูุญุฉ ุจุดูู ูุงุฆู
   - ูุนูุฏ ุงููุญุงููุฉ ุนูุฏ ุงููุทุงุน ุงูุงุชุตุงู
   - ูุชุนุงูู ูุน Rate Limits ุจุทุฑููุฉ ุตุญูุญุฉ

3. **ูุธุงู ุงูุชุตููุฉ:**
   - ูุญุชุฑู ุชุตููุฉ ุงูุชูุงุฑูุฎ
   - ูุณุชุซูู ุงูุฃุฑูุงู ุงููุญุฏุฏุฉ
   - ูุชุฌุงูู ุงูุนูุงุตุฑ ุฐุงุช ุงูุชุณููุงุช ุงููุณุชุซูุงุฉ

### โ GitHub Actions Workflow ูุนูู ุจุดูู ุตุญูุญ ุฅุฐุง:
1. **ุงููุงุฌูุฉ ุงูุนุฑุจูุฉ:**
   - ุฌููุน ุงูุฃูุตุงู ุชุธูุฑ ุจุงูุนุฑุจูุฉ ุจุดูู ุตุญูุญ
   - ุงูุฎูุงุฑุงุช ุชุนูู ููุง ูู ูุชููุน
   - ุงูููู ุงูุงูุชุฑุงุถูุฉ ุตุญูุญุฉ

2. **ูุธุงู ุงูุฃูุงู:**
   - ุงูุชุดุบูู ุงููุฌุฏูู ูุณุชุฎุฏู `dry-run` ุฏุงุฆูุงู
   - ุงูุชุดุบูู ุงููุฏูู ูุญุชุฑู ุงูุฎูุงุฑุงุช ุงููุญุฏุฏุฉ
   - ุงูุนูุงุตุฑ ุฐุงุช ุงูุชุณููุงุช ุงูุญุณุงุณุฉ ูุญููุฉ

3. **ุงูุชูุงุฑูุฑ:**
   - ููุธูุฑ ุงูุฃูุงูุฑ ุงููููุฐุฉ ุจูุถูุญ
   - ููุจูู ุงููุชุงุฆุฌ ูุงูููุฎุต
   - ููุถุญ ูุถุน ุงูุชุดุบูู (DRY-RUN ุฃู EXECUTION)

## ุชุญุฐูุฑุงุช ุงูุฃูุงู โ๏ธ

### ๐จ ุงุญุฐุฑ ุนูุฏ:
1. **ุงุณุชุฎุฏุงู ูุถุน `execute`** - ุณูุบูู ุงูุนูุงุตุฑ ูุนููุงู!
2. **ุนุฏู ุงุณุชุฎุฏุงู `--exclude`** ูุงุณุชุซูุงุก PRs/Issues ูููุฉ
3. **ุชุดุบูู ุงูู workflow ุนูู ูุณุชูุฏุนุงุช production**
4. **ุนุฏู ูุฑุงุฌุนุฉ ูุงุฆูุฉ ุงูุนูุงุตุฑ ูู dry-run ุฃููุงู**

### ๐ก๏ธ ููุงุฑุณุงุช ุขููุฉ:
1. **ุงุจุฏุฃ ุฏุงุฆูุงู ุจู `--dry-run`**
2. **ุฑุงุฌุน ุงููุงุฆูุฉ ูุจู ุงูุชูููุฐ ุงููุนูู**
3. **ุงุณุชุฎุฏู `--exclude` ููุนูุงุตุฑ ุงููููุฉ**
4. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูุจูุงูุงุช ุงููููุฉ**

## ูุคุดุฑุงุช ุงูุฃุฏุงุก

### ููุงุณ ุงูุฃุฏุงุก:
```bash
# ููุงุณ ููุช ุงูุชูููุฐ
time python scripts/close_github_items.py MOTEB1989/Top-TieR-Global-HUB-AI \
  --dry-run --yes

# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู Memory
top -p $(pgrep -f close_github_items.py)
```

### ุงููุชุงุฆุฌ ุงููุชููุนุฉ:
- **ุงูููุช:** ุฃูู ูู 30 ุซุงููุฉ ููุณุชูุฏุน ุจู 200+ issue/PR
- **ุงูุฐุงูุฑุฉ:** ุฃูู ูู 50MB
- **ูุนุฏู API calls:** ูุญุชุฑู GitHub rate limits

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ุงููุดุงูู ุงูุดุงุฆุนุฉ:

1. **"A GitHub token is required"**
   ```bash
   # ุงูุญู: ุชุฃูุฏ ูู ุฅุนุฏุงุฏ GITHUB_TOKEN
   echo $GITHUB_TOKEN  # ูุฌุจ ุฃู ูุธูุฑ ุงููููุฉ
   export GITHUB_TOKEN="your_token_here"
   ```

2. **"HTTP 403 Forbidden"**
   ```bash
   # ุงูุญู: ุชุญูู ูู ุตูุงุญูุงุช Token
   # ูุฌุจ ุฃู ูุชุถูู: repo, issues, pull_requests
   ```

3. **"No module named 'requests'"**
   ```bash
   # ุงูุญู: ุชุซุจูุช ุงููุชุทูุจุงุช
   pip install requests
   ```

4. **ุงููุงุฌูุฉ ุงูุนุฑุจูุฉ ูุง ุชุธูุฑ ุจุดูู ุตุญูุญ**
   - ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช UTF-8 ูู ุงููุชุตูุญ
   - ุฑุงุฌุน ุฅุนุฏุงุฏุงุช GitHub language settings

## ุงูุชูุฑูุฑ ุงูููุงุฆู

ุนูุฏ ุงูุชูุงู ุงูุงุฎุชุจุงุฑุ ูุฌุจ ุฃู ุชุญุตู ุนูู:

โ **ุชูุฑูุฑ ูุงุฌุญ ูุญุชูู ุนูู:**
- ุนุฏุฏ ุงูุนูุงุตุฑ ุงูููุบููุฉ: X
- ุนุฏุฏ ุงูุนูุงุตุฑ ุงูููุชุฎุทุงุฉ: Y
- ูุถุน ุงูุชุดุบูู: DRY-RUN ุฃู EXECUTION
- ููุช ุงูุชูููุฐ: Z ุซุงููุฉ
- ูุนุฏู ูุฌุงุญ API calls: 100%

**ูุซุงู ุนูู ุชูุฑูุฑ ูุงุฌุญ:**
```
Summary:
  Closed:  0
  Skipped: 15
  Mode:    DRY-RUN

โ Repository hygiene cleanup completed
Mode: dry-run
Repository: MOTEB1989/Top-TieR-Global-HUB-AI
โ๏ธ This was a DRY RUN - no actual changes were made
```

---

**ููุงุญุธุฉ:** ูุฐู ุงูุชุนูููุงุช ูุตููุฉ ูุถูุงู ุงุฎุชุจุงุฑ ุดุงูู ูุขูู ููุธุงู ุชูุธูู ุงููุณุชูุฏุน ูุน ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูู ุงููุงุฌูุงุช ูุงูุชูุซูู.