# ุฏููู ุฅุนุฏุงุฏ ุจูุช Telegram - Telegram Bot Setup Guide

## ๐ ูุธุฑุฉ ุนุงูุฉ - Overview

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ ูุชุดุบูู ุจูุช Telegram ุนูู ููุตุฉ Railway (ุฃู ูุญููุงู).

This guide explains how to set up and run the Telegram bot on Railway (or locally).

---

## ๐ฏ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ - Prerequisites

### 1. ุญุณุงุจ Telegram Bot
- ุงูุชุญ Telegram ูุงุจุญุซ ุนู `@BotFather`
- ุฃุฑุณู ุงูุฃูุฑ `/newbot` ูุงุชุจุน ุงูุชุนูููุงุช
- ุงุญูุธ ุงูู Token ุงูุฐู ุณูุนุทูู ุฅูุงู (ูุซุงู: `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11`)

### 2. ููุชุงุญ OpenAI API
- ุณุฌู ุญุณุงุจ ูู [OpenAI Platform](https://platform.openai.com/)
- ุงุฐูุจ ุฅูู [API Keys](https://platform.openai.com/api-keys)
- ุฃูุดุฆ ููุชุงุญ ุฌุฏูุฏ ูุงุญูุธู (ูุจุฏุฃ ุจู `sk-`)

### 3. ูุนุฑูู ุงููุณุชุฎุฏู (User ID) - ุงุฎุชูุงุฑู
- ุดุบูู ุงูุจูุช ูุงุณุชุฎุฏู ุงูุฃูุฑ `/whoami` ููุนุฑูุฉ ูุนุฑููู
- ุฃุถู ูุฐุง ุงููุนุฑูู ูู `TELEGRAM_ALLOWLIST` ููุชุญูู ูู ูู ูุณุชุทูุน ุงุณุชุฎุฏุงู ุงูุจูุช

---

## ๐ ุงูุชุดุบูู ุนูู Railway - Railway Deployment

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ูู ููุญุฉ ุชุญูู Railwayุ ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

#### ูุชุบูุฑุงุช **ูุทููุจุฉ** (Required):
```bash
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
GITHUB_REPO=MOTEB1989/Top-TieR-Global-HUB-AI
```

#### ูุชุบูุฑุงุช **ุงุฎุชูุงุฑูุฉ** (Optional):
```bash
TELEGRAM_ALLOWLIST=123456789,987654321  # ูุงุฆูุฉ ูุนุฑูุงุช ุงููุณุชุฎุฏููู ุงููุณููุญ ููู
OPENAI_BASE_URL=https://api.openai.com/v1  # URL ูุฎุตุต ููู API
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุชูููู

Railway ุณุชุดุบู ุชููุงุฆูุงู:
```bash
python3 scripts/verify_env.py && python3 scripts/telegram_chatgpt_mode.py
```

- `verify_env.py`: ูุชุญูู ูู ูุฌูุฏ ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ
- `telegram_chatgpt_mode.py`: ูุดุบู ุงูุจูุช

### ุงูุฎุทูุฉ 3: ูุฑุงูุจุฉ ุงูุณุฌูุงุช (Logs)

ูู ููุญุฉ Railwayุ ุชุญูู ูู ุงูุณุฌูุงุช ููุชุฃูุฏ ูู:
```
โ ุฌููุน ุงููุชุบูุฑุงุช ุงูุญุฑุฌุฉ ููุฌูุฏุฉ ูููุณุช ูุงุฑุบุฉ.
ุจุฏุก ุชุดุบูู Telegram ChatGPT Mode Bot ...
```

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงูุจูุช

ุงูุชุญ Telegram ูุงุจุญุซ ุนู ุงูุจูุช ุงูุฎุงุต ุจูุ ุซู:
1. ุฃุฑุณู `/start` - ูุฌุจ ุฃู ูุฑุฏ ุนููู
2. ุฃุฑุณู `/status` - ููุนุฑูุฉ ุญุงูุฉ ุงูุฎุฏูุงุช
3. ุฌุฑุจ `/chat ูุง ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ` - ููุฏุฑุฏุดุฉ ูุน AI

---

## ๐ป ุงูุชุดุบูู ุงููุญูู - Local Development

### ุงูุฎุทูุฉ 1: ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
# ุงุณุชูุณุฎ ุงููุณุชูุฏุน
git clone https://github.com/MOTEB1989/Top-TieR-Global-HUB-AI.git
cd Top-TieR-Global-HUB-AI

# ุซุจุช ุงูููุชุจุงุช ุงููุทููุจุฉ
pip install -r requirements.txt
```

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

```bash
# ุงูุณุฎ ููู ุงููุซุงู
cp .env.example .env

# ุญุฑุฑ ุงูููู ูุฃุถู ูุนูููุงุชู
nano .env  # ุฃู ุงุณุชุฎุฏู ูุญุฑุฑ ุขุฎุฑ
```

ุงููุฃ ุงููุชุบูุฑุงุช ุงููุทููุจุฉ ูู `.env`:
```bash
TELEGRAM_BOT_TOKEN=your_bot_token
OPENAI_API_KEY=sk-your-key
OPENAI_MODEL=gpt-4o-mini
GITHUB_REPO=MOTEB1989/Top-TieR-Global-HUB-AI
```

### ุงูุฎุทูุฉ 3: ุงูุชุดุฎูุต ุงูุดุงูู

ูุจู ุชุดุบูู ุงูุจูุชุ ุดุบูู ุฃุฏุงุฉ ุงูุชุดุฎูุต:

```bash
python3 scripts/diagnose_telegram_bot.py
```

ุณุชูุญุต ุงูุฃุฏุงุฉ:
- โ ุฌููุน ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
- โ ุงูุงุชุตุงู ุจู OpenAI API
- โ ุงูุงุชุตุงู ุจู Telegram Bot API
- โ ูุฌูุฏ ุงููููุงุช ุงูุญุฑุฌุฉ
- โ ุงูููุชุจุงุช ุงููุซุจุชุฉ

**ูุซุงู ุนูู ุงููุชูุฌุฉ ุงููุงุฌุญุฉ:**
```
======================================================================
               ุงูุชูุฑูุฑ ุงูููุงุฆู - Telegram Bot Diagnostic Report
======================================================================

ูุชุงุฆุฌ ุงููุญุต:
----------------------------------------------------------------------
โ ูุฌุญ  ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
โ ูุฌุญ  ุงููููุงุช ุงูุญุฑุฌุฉ
โ ูุฌุญ  ุงูููุชุจุงุช ุงููุทููุจุฉ
โ ูุฌุญ  ุงุชุตุงู OpenAI
โ ูุฌุญ  ุงุชุตุงู Telegram
----------------------------------------------------------------------

๐ ุฌููุน ุงููุญูุตุงุช ูุฌุญุช!
ุงูุจูุช ุฌุงูุฒ ููุชุดุบูู ุนูู Railway.
```

### ุงูุฎุทูุฉ 4: ุชุดุบูู ุงูุจูุช

```bash
# ุงูุทุฑููุฉ 1: ุชุดุบูู ูุน ูุญุต ุงูุจูุฆุฉ
python3 scripts/verify_env.py && python3 scripts/telegram_chatgpt_mode.py

# ุฃู ุงูุทุฑููุฉ 2: ุชุดุบูู ูุจุงุดุฑ
python3 scripts/telegram_chatgpt_mode.py
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก - Troubleshooting

### ุงููุดููุฉ 1: ุงูุจูุช ูุง ูุณุชุฌูุจ

**ุงูุฃุนุฑุงุถ:**
- ุงูุจูุช ูุง ูุฑุฏ ุนูู ุงูุฑุณุงุฆู
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุณุฌูุงุช

**ุงูุญููู:**
1. ุชุญูู ูู ุตุญุฉ `TELEGRAM_BOT_TOKEN`:
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getMe
   ```

2. ุชุญูู ูู ุงูู Allowlist:
   - ุฅุฐุง ููุช ูุฏ ุถุจุทุช `TELEGRAM_ALLOWLIST`ุ ุชุฃูุฏ ูู ุฃู ูุนุฑููู ููุฌูุฏ ูููุง
   - ุงุณุชุฎุฏู `/whoami` ููุนุฑูุฉ ูุนุฑููู

3. ุฑุงุฌุน ุงูุณุฌูุงุช ููุชุฃูุฏ ูู ุฃู ุงูุจูุช ูุนูู:
   ```
   ุจุฏุก ุชุดุบูู Telegram ChatGPT Mode Bot ...
   โ ุงูุจูุช ูุนูู ุงูุขู!
   ```

### ุงููุดููุฉ 2: ุฎุทุฃ ูู OpenAI API

**ุงูุฃุนุฑุงุถ:**
```
โ ุฎุทุฃ ูู ูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู:
OpenAI error 401: Incorrect API key
```

**ุงูุญููู:**
1. ุชุญูู ูู ุตุญุฉ `OPENAI_API_KEY`:
   ```bash
   python3 scripts/diagnose_telegram_bot.py
   ```

2. ุชุฃูุฏ ูู ุฃู ุงูููุชุงุญ ูุจุฏุฃ ุจู `sk-`

3. ุชุญูู ูู ุตูุงุญูุฉ ุงูููุชุงุญ ูู [OpenAI Dashboard](https://platform.openai.com/api-keys)

4. ุชุฃูุฏ ูู ูุฌูุฏ ุฑุตูุฏ ูู ุญุณุงุจู

### ุงููุดููุฉ 3: ุงููููุฐุฌ ุบูุฑ ูุชุงุญ

**ุงูุฃุนุฑุงุถ:**
```
โ The model `gpt-4` does not exist
```

**ุงูุญููู:**
1. ุชุญูู ูู ุงูููุงุฐุฌ ุงููุชุงุญุฉ:
   ```bash
   python3 scripts/diagnose_telegram_bot.py
   ```

2. ุบููุฑ `OPENAI_MODEL` ุฅูู ูููุฐุฌ ูุชุงุญ (ูุซู `gpt-4o-mini` ุฃู `gpt-3.5-turbo`)

### ุงููุดููุฉ 4: Railway ูุง ูุดุบู ุงูุจูุช

**ุงูุฃุนุฑุงุถ:**
- Railway ูุดุบู Express (Node.js) ุจุฏูุงู ูู ุงูุจูุช
- ุงูุณุฌูุงุช ุชุนุฑุถ `node dist/index.js`

**ุงูุญููู:**
1. ุชุญูู ูู ูุญุชูู `railway.json`:
   ```json
   {
     "deploy": {
       "startCommand": "python3 scripts/verify_env.py && python3 scripts/telegram_chatgpt_mode.py"
     }
   }
   ```

2. ุฅุฐุง ูุงู `startCommand` ูุญุชูู ุนูู `node`, ุบููุฑู ููุง ุจุงูุฃุนูู

3. ุฃุนุฏ ูุดุฑ ุงููุดุฑูุน ุนูู Railway

### ุงููุดููุฉ 5: ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ููููุฏุฉ

**ุงูุฃุนุฑุงุถ:**
```
โ ูุดู ูุญุต ุงููุชุบูุฑุงุช:
 - ููููุฏ: OPENAI_MODEL
```

**ุงูุญููู:**
1. ูู Railwayุ ุงุฐูุจ ุฅูู Variables ูุฃุถู ุงููุชุบูุฑุงุช ุงูููููุฏุฉ

2. ูุญููุงูุ ุชุญูู ูู ููู `.env`:
   ```bash
   cat .env | grep OPENAI_MODEL
   ```

3. ุดุบูู ุฃุฏุงุฉ ุงูุชุดุฎูุต ููุชุญูู:
   ```bash
   python3 scripts/diagnose_telegram_bot.py
   ```

---

## ๐๏ธ ุฃุฏูุงุช ุงูุชุดุฎูุต - Diagnostic Tools

### 1. ูุญุต ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```bash
python3 scripts/verify_env.py
```
ูุชุญูู ูู ูุฌูุฏ ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ.

### 2. ุงูุชุดุฎูุต ุงูุดุงูู
```bash
python3 scripts/diagnose_telegram_bot.py
```
ูุญุต ูุงูู ูุฌููุน ุงูุฎุฏูุงุช ูุงูุงุชุตุงูุงุช.

### 3. ุงุฎุชุจุงุฑ ุณุฑูุน ููุจูุช
```bash
python3 scripts/quick_bot_test.py
```
(ุฅุฐุง ูุงู ููุฌูุฏุงู) ุงุฎุชุจุงุฑ ุณุฑูุน ูููุธุงุฆู ุงูุฃุณุงุณูุฉ.

---

## ๐ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ูู ุงูุจูุช - Bot Commands

| ุงูุฃูุฑ | ุงููุตู |
|------|--------|
| `/start` | ุฑุณุงูุฉ ุงูุชุฑุญูุจ |
| `/help` | ุนุฑุถ ุงููุณุงุนุฏุฉ ูุงูุฃูุงูุฑ |
| `/whoami` | ูุนุฑูุฉ Telegram ID |
| `/status` | ุญุงูุฉ ุงููุธุงู ูุงูุฎุฏูุงุช |
| `/chat <ุณุคุงูู>` | ุฏุฑุฏุดุฉ ูุน ChatGPT |
| `/repo` | ุชุญููู ุงููุณุชูุฏุน |
| `/insights` | ุฑุคู ูุชูุตูุงุช |

---

## ๐ ุงูุฃูุงู - Security

### ุฃูุถู ุงูููุงุฑุณุงุช:

1. **ูุง ุชุดุงุฑู ุงูู Tokens ุฃุจุฏุงู**
   - `TELEGRAM_BOT_TOKEN`
   - `OPENAI_API_KEY`
   - ูุง ุชุถุนูุง ูู Git ุฃู ุชุดุงุฑููุง ุนููุงู

2. **ุงุณุชุฎุฏู Allowlist**
   - ุญุฏุฏ ูู ูุณุชุทูุน ุงุณุชุฎุฏุงู ุงูุจูุช ุนุจุฑ `TELEGRAM_ALLOWLIST`
   - ูุซุงู: `TELEGRAM_ALLOWLIST=123456789,987654321`

3. **ุฑุงูุจ ุงูุงุณุชุฎุฏุงู**
   - ุชุงุจุน ุงุณุชููุงู OpenAI API ูู [Usage Dashboard](https://platform.openai.com/usage)
   - ุถุน ุญุฏูุฏ ููุฅููุงู (Spending Limits)

4. **ุญุฏูุซ ุงูููุชุจุงุช ุจุงูุชุธุงู**
   ```bash
   pip install --upgrade -r requirements.txt
   ```

---

## ๐ ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ - Monitoring

### ุนูู Railway:

1. **ุงูุณุฌูุงุช (Logs)**
   - ุฑุงุฌุน ุงูุณุฌูุงุช ุจุงูุชุธุงู ูู ููุญุฉ Railway
   - ุงุจุญุซ ุนู ุฃุฎุทุงุก ุฃู ุชุญุฐูุฑุงุช

2. **ุงูููุงุฑุฏ (Resources)**
   - ุชุงุจุน ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูุงูู CPU
   - Railway ุชุนูุฏ ุชุดุบูู ุงูุจูุช ุชููุงุฆูุงู ุนูุฏ ุงููุดู (restartPolicyType: ON_FAILURE)

3. **ุงูุชูุจููุงุช (Alerts)**
   - ุฃุนุฏ ุชูุฌูู ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ ุฅูู Telegram Chat
   - ุงุณุชุฎุฏู ุฎุฏูุงุช ูุฑุงูุจุฉ ุฎุงุฑุฌูุฉ (ูุซู UptimeRobot)

---

## ๐ ุงูุฏุนู - Support

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุฑุงุฌุน ูุฐุง ุงูุฏููู** ููุญููู ุงูุดุงุฆุนุฉ
2. **ุดุบูู ุฃุฏุงุฉ ุงูุชุดุฎูุต**: `python3 scripts/diagnose_telegram_bot.py`
3. **ุงูุชุญ Issue ูู GitHub**: [Issues](https://github.com/MOTEB1989/Top-TieR-Global-HUB-AI/issues)
4. **ุชูุงุตู ูุน ุงููุฑูู**: [@MOTEB1989](https://github.com/MOTEB1989)

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ - Additional Notes

### ุชูููุฉ ุงูุชุดุบูู:

- **Railway**: ุฎุทุฉ ูุฌุงููุฉ ูุชุงุญุฉ ูุน ุญุฏูุฏ (500 ุณุงุนุฉ/ุดูุฑ)
- **OpenAI API**: ุญุณุจ ุงูุงุณุชุฎุฏุงู
  - `gpt-4o-mini`: ~$0.15 ููู ููููู token (ููุตู ุจู)
  - `gpt-4o`: ~$2.50 ููู ููููู token
  - ุฑุงุฌุน [OpenAI Pricing](https://openai.com/pricing)

### ุงูุจุฏุงุฆู:

ุฅุฐุง ูู ุชุณุชุทุน ุงุณุชุฎุฏุงู Railway:
- **Heroku**: ููุตุฉ ูุดุงุจูุฉ
- **Render**: ุจุฏูู ุฌูุฏ
- **VPS**: (DigitalOcean, Linode, etc.)
- **ูุญููุงู**: ุดุบูู ุนูู ุฌูุงุฒู ุงูุฎุงุต

### ุงูุชุทููุฑ ุงููุณุชูุจูู:

ุงูููุฒุงุช ุงููุงุฏูุฉ:
- [ ] ุฏุนู ุงููููุงุช (PDF, DOCX)
- [ ] ุชูุงูู ูุน ููุงุนุฏ ุงูุจูุงูุงุช
- [ ] ุชูุงุฑูุฑ ุฏูุฑูุฉ ุชููุงุฆูุฉ
- [ ] ุฏุนู ูุบุงุช ูุชุนุฏุฏุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ - Quick Checklist

ูุจู ุงููุดุฑุ ุชุฃูุฏ ูู:

- [ ] `TELEGRAM_BOT_TOKEN` ูุถุจูุท
- [ ] `OPENAI_API_KEY` ูุถุจูุท
- [ ] `OPENAI_MODEL` ูุถุจูุท (ูุซู `gpt-4o-mini`)
- [ ] `GITHUB_REPO` ูุถุจูุท
- [ ] `railway.json` ูุญุชูู ุนูู startCommand ุงูุตุญูุญ
- [ ] ุฃุฏุงุฉ ุงูุชุดุฎูุต ุชุนูู ุจูุฌุงุญ: `python3 scripts/diagnose_telegram_bot.py`
- [ ] ุงูุจูุช ูุณุชุฌูุจ ูู `/start` ูู Telegram
- [ ] ุงูู Allowlist ูุถุจูุท (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2024-11-24  
**ุงูุฅุตุฏุงุฑ**: 1.0  
**ุงููุดุฑูุน**: [Top-TieR-Global-HUB-AI](https://github.com/MOTEB1989/Top-TieR-Global-HUB-AI)
