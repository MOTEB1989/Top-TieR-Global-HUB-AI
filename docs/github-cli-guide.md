# GitHub CLI Quick Reference

هذه الوثيقة تشرح كيفية استخدام GitHub CLI لأداء العمليات التالية:

1. تسجيل الدخول.
2. عرض جميع طلبات السحب المفتوحة.
3. دمج طلبات السحب المتاحة للدمج آليًا.

## المتطلبات المسبقة

- تثبيت [GitHub CLI](https://cli.github.com/).
- توفر صلاحية الوصول إلى المستودع الهدف على GitHub.
- إعداد متغير البيئة `GH_TOKEN` أو تسجيل الدخول التفاعلي.

## تسجيل الدخول إلى GitHub CLI

ابدأ بالتحقق من حالة اعتمادك الحالية، خاصة إن سبق لك إعداد الأداة على نفس الجهاز:

```bash
gh auth status
```

إذا أظهرت النتيجة أنك غير مسجل الدخول، فاستخدم الأمر التالي. سيحاول الأمر فتح متصفح أو يطلب رمزًا لمرة واحدة حسب الإعدادات:

```bash
gh auth login
```

إذا لم يكن `gh` مثبتًا على النظام فستحتاج إلى تثبيته أولًا. على Ubuntu/Debian:

```bash
sudo apt update && sudo apt install gh
```

للدخول باستخدام رمز وصول شخصي (PAT):

```bash
gh auth login --with-token < token.txt
```

## عرض جميع طلبات السحب المفتوحة

بعد التأكد من تسجيل الدخول، يمكنك التحقق سريعًا من المستودع الحالي:

```bash
gh repo view --web
```

إذا فُتح المستودع الصحيح في المتصفح أو ظهرت معلوماته في الطرفية، انتقل لعرض جميع طلبات السحب المفتوحة:

```bash
gh pr list
```

استخدم الخيار `--limit` لتحديد عدد النتائج أو `--state all` لعرض الطلبات المغلقة والمفتوحة.

## دمج طلبات السحب القابلة للدمج

قبل الدمج يوصى بالتحقق من حالة الفحوصات والأذونات:

```bash
gh pr checks <number>
gh pr status
```

عند التأكد من أن الطلب قابل للدمج:

```bash
gh pr merge --auto --merge --repo owner/repo
```

- استبدل `owner/repo` باسم المالك والمستودع المناسبين.
- يمكنك إضافة `--pr <number>` لتحديد طلب معين أو استخدام `--search` مع عوامل التصفية لتحديد المجموعة المطلوبة.
- خيار `--auto` يجعل الدمج يتم تلقائيًا عند اجتياز الفحوصات.

## استكشاف الأخطاء

- إذا ظهر الخطأ `command not found: gh` فذلك يعني عدم توفر GitHub CLI على النظام. قم بتثبيته أو استخدم حاوية معدة مسبقًا.
- عند العمل في بيئات CI غير تفاعلية، استخدم رموز الوصول بدلاً من تسجيل الدخول اليدوي.

## مراجع إضافية

- [توثيق GitHub CLI](https://cli.github.com/manual/)
- [دليل أوامر gh pr](https://cli.github.com/manual/gh_pr)

